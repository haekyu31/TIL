# TIL
## DataSceience

1. Data augmentation?
    https://www.tensorflow.org/tutorials/images/data_augmentation?hl=ko<br>
    data를 변환시켜서 train set의 다양성을 늘리는 방법
2. Elastic Deformation 기법을 활용한 data augmentation
    ```python
        # Reading and sorting the image paths from the directories
    ground_truth_images = natsorted(glob.glob('.\\jsrt_src\\train\\xray\\*'))
    segmentation_mask_images = natsorted(glob.glob('.\\jsrt_src\\train\\label\\*'))
    
    # image
    collated_images_and_masks = list(zip(ground_truth_images, segmentation_mask_images))
    len(collated_images_and_masks)
    images = [[cv2.resize(np.asarray(Image.open(x)), (512, 512)), cv2.resize(np.asarray(Image.open(y)), (512,512))] for x, y in collated_images_and_masks]

    AugmentationPipeline = Augmentor.DataPipeline(images)
    AugmentationPipeline.random_distortion(probability=1, grid_width=5, grid_height=5, magnitude=8)
    AugmentationPipeline.gaussian_distortion(probability=1, grid_width=5, grid_height=5, magnitude=8, corner='bell', method='in ')
    
    Count = 1
    for img, mask in augmented_images:
        imag = Image.fromarray(img)
        imag.save('.\\jsrt_src\\train_augmented\\xray\\' + str(Count) + '.png')
        mask = Image.fromarray(mask)
        mask.save('.\\jsrt_src\\train_augmented\\label\\' + str(Count) + '.png')
        Count += 1
    ```

3. U-Net 구조
(Encoder) Convolution layer -> Skip connection을 통해
(Decoder) De-convolution layer 로 전달하는 개념
-> 모델을 U자 형태로 만든다
    
    
1. Output layer: segmentation은 모든 점들을 classification
따라서 label mask (0 or 1) -> categorical crossentropy로 loss
5. Post-processing